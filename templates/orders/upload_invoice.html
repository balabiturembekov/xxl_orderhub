{% extends 'base.html' %}
{% load i18n %}

{% block title %}{% trans "–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–Ω–≤–æ–π—Å" %} - {{ order.title }} - XXL OrderHub{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-6">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="{% url 'home' %}">{% trans "–ì–ª–∞–≤–Ω–∞—è" %}</a></li>
                <li class="breadcrumb-item"><a href="{% url 'order_list' %}">{% trans "–ó–∞–∫–∞–∑—ã" %}</a></li>
                <li class="breadcrumb-item"><a href="{% url 'order_detail' order.pk %}">{{ order.title }}</a></li>
                <li class="breadcrumb-item active">{% trans "–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–Ω–≤–æ–π—Å" %}</li>
            </ol>
        </nav>

        <div class="card">
            <div class="card-header">
                <h3 class="mb-0">{% trans "–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–Ω–≤–æ–π—Å" %}</h3>
            </div>
            <div class="card-body">
                <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑–µ -->
                <div class="alert alert-info">
                    <h6>{% trans "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑–µ:" %}</h6>
                    <p class="mb-1"><strong>{% trans "–ù–∞–∑–≤–∞–Ω–∏–µ:" %}</strong> {{ order.title }}</p>
                    <p class="mb-1"><strong>{% trans "–§–∞–±—Ä–∏–∫–∞:" %}</strong> {{ order.factory.name }}</p>
                    <p class="mb-0"><strong>{% trans "–°—Ç–∞—Ç—É—Å:" %}</strong> {{ order.get_status_display }}</p>
                </div>

                <form method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    
                    {% if form.non_field_errors %}
                        <div class="alert alert-danger">
                            {{ form.non_field_errors }}
                        </div>
                    {% endif %}

                    <div class="mb-3">
                        <label for="{{ form.invoice_file.id_for_label }}" class="form-label">
                            {% trans "PDF —Ñ–∞–π–ª –∏–Ω–≤–æ–π—Å–∞" %} <span class="text-danger">*</span>
                        </label>
                        {{ form.invoice_file }}
                        {% if form.invoice_file.errors %}
                            <div class="text-danger">
                                {% for error in form.invoice_file.errors %}
                                    <small>{{ error }}</small>
                                {% endfor %}
                            </div>
                        {% endif %}
                        <div class="form-text">
                            {% trans "–ó–∞–≥—Ä—É–∑–∏—Ç–µ PDF —Ñ–∞–π–ª —Å –∏–Ω–≤–æ–π—Å–æ–º –æ—Ç —Ñ–∞–±—Ä–∏–∫–∏" %}
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="{{ form.comments.id_for_label }}" class="form-label">
                            {% trans "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∏–Ω–≤–æ–π—Å—É" %}
                        </label>
                        {{ form.comments }}
                        {% if form.comments.errors %}
                            <div class="text-danger">
                                {% for error in form.comments.errors %}
                                    <small>{{ error }}</small>
                                {% endfor %}
                            </div>
                        {% endif %}
                        <div class="form-text">
                            {% trans "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–Ω–≤–æ–π—Å–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)" %}
                        </div>
                    </div>

                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <a href="{% url 'order_detail' order.pk %}" class="btn btn-outline-secondary me-md-2">
                            {% trans "–û—Ç–º–µ–Ω–∞" %}
                        </a>
                        <button type="submit" class="btn btn-success">
                            üìã {% trans "–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–Ω–≤–æ–π—Å" %}
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ -->
        <div class="card mt-4">
            <div class="card-header">
                <h5 class="mb-0">{% trans "–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏" %}</h5>
            </div>
            <div class="card-body">
                <ol>
                    <li>{% trans "–ü–æ–ª—É—á–∏—Ç–µ PDF –∏–Ω–≤–æ–π—Å –æ—Ç —Ñ–∞–±—Ä–∏–∫–∏ –ø–æ email" %}</li>
                    <li>{% trans "–°–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä" %}</li>
                    <li>{% trans "–ó–∞–≥—Ä—É–∑–∏—Ç–µ PDF —Ñ–∞–π–ª –≤ —Ñ–æ—Ä–º—É –≤—ã—à–µ" %}</li>
                    <li>{% trans "–î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏" %}</li>
                    <li>{% trans "–ù–∞–∂–º–∏—Ç–µ '–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–Ω–≤–æ–π—Å'" %}</li>
                </ol>
                
                <div class="alert alert-warning">
                    <strong>{% trans "–í–∞–∂–Ω–æ:" %}</strong> 
                    {% trans "–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–Ω–≤–æ–π—Å–∞ —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –∏–∑–º–µ–Ω–∏—Ç—Å—è –Ω–∞ '–ò–Ω–≤–æ–π—Å –ø–æ–ª—É—á–µ–Ω'. –í—ã —Å–º–æ–∂–µ—Ç–µ —Å–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è." %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
